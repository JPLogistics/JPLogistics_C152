<ModelBehaviors>
	<Include ModelBehaviorFile="Asobo\Generic.xml"/>


	<Macro Name="TransponderButtonEmissiveCode">
		(A:CIRCUIT GENERAL PANEL ON, Bool) (A:LIGHT POTENTIOMETER:#EMISSIVE_POTENTIOMETER#, percent over 100) *
	</Macro>

	<Template Name="C152X_5Knobs_Transponder_Template">
		<DefaultTemplateParameters>
			<ID>1</ID>
		</DefaultTemplateParameters>
		
		<UseTemplate Name="ASOBO_GT_Helper_Suffix_ID_Appender">
			<TEMPLATE_TO_CALL>C152X_5Knobs_Transponder_SubTemplate</TEMPLATE_TO_CALL>
		</UseTemplate>
	</Template>

	<Template Name="C152X_5Knobs_Transponder_SubTemplate">
		<DefaultTemplateParameters>
			<NODE_ID_KNOB_SETTING>TRANSPONDER_Knob#SUFFIX_ID#</NODE_ID_KNOB_SETTING>
			<ANIM_NAME_KNOB_SETTING>TRANSPONDER_Knob#SUFFIX_ID#</ANIM_NAME_KNOB_SETTING>
			
			<NODE_ID_KNOB_THOUSANDS>TRANSPONDER_Knob_01#SUFFIX_ID#</NODE_ID_KNOB_THOUSANDS>
			<ANIM_NAME_KNOB_THOUSANDS>TRANSPONDER_Knob_01#SUFFIX_ID#</ANIM_NAME_KNOB_THOUSANDS>
			<NODE_ID_KNOB_HUNDREDS>TRANSPONDER_Knob_02#SUFFIX_ID#</NODE_ID_KNOB_HUNDREDS>
			<ANIM_NAME_KNOB_HUNDREDS>TRANSPONDER_Knob_02#SUFFIX_ID#</ANIM_NAME_KNOB_HUNDREDS>
			<NODE_ID_KNOB_TENS>TRANSPONDER_Knob_03#SUFFIX_ID#</NODE_ID_KNOB_TENS>
			<ANIM_NAME_KNOB_TENS>TRANSPONDER_Knob_03#SUFFIX_ID#</ANIM_NAME_KNOB_TENS>
			<NODE_ID_KNOB_ONES>TRANSPONDER_Knob_04#SUFFIX_ID#</NODE_ID_KNOB_ONES>
			<ANIM_NAME_KNOB_ONES>TRANSPONDER_Knob_04#SUFFIX_ID#</ANIM_NAME_KNOB_ONES>
			
			<NODE_ID_IDT>TRANSPONDER_Push_IDT#SUFFIX_ID#</NODE_ID_IDT>
			<ANIM_NAME_IDT>TRANSPONDER_Push_IDT#SUFFIX_ID#</ANIM_NAME_IDT>
		</DefaultTemplateParameters>

		<UseTemplate Name="ASOBO_Transponder_knob_Setting_Template">
			<ANIMREF_ID>0</ANIMREF_ID>
			<ANIMTIP_0>TT:COCKPIT.TOOLTIPS.XPDR_OFF</ANIMTIP_0>
			<ANIMTIP_0_ON_PERCENT>0</ANIMTIP_0_ON_PERCENT>
			<ANIMTIP_1>TT:COCKPIT.TOOLTIPS.XPDR_SBY</ANIMTIP_1>
			<ANIMTIP_1_ON_PERCENT>0.25</ANIMTIP_1_ON_PERCENT>
			<ANIMTIP_2>TT:COCKPIT.TOOLTIPS.XPDR_ON</ANIMTIP_2>
			<ANIMTIP_2_ON_PERCENT>.5</ANIMTIP_2_ON_PERCENT>
			<ANIMTIP_3>TT:COCKPIT.TOOLTIPS.XPDR_ALT</ANIMTIP_3>
			<ANIMTIP_3_ON_PERCENT>0.75</ANIMTIP_3_ON_PERCENT>
			<ANIMTIP_4>TT:COCKPIT.TOOLTIPS.XPDR_TEST</ANIMTIP_4>
			<ANIMTIP_4_ON_PERCENT>1</ANIMTIP_4_ON_PERCENT>
			<NODE_ID>#NODE_ID_KNOB_SETTING#</NODE_ID>
			<ANIM_NAME>#ANIM_NAME_KNOB_SETTING#</ANIM_NAME>
		</UseTemplate>
		
		<Component ID="IDENT_Light" Node="ANNUNCIATOR_Radio_Ident">
			<UseTemplate Name="ASOBO_GT_Emissive_Gauge">
				<EMISSIVE_CODE>
					(A:TRANSPONDER STATE:1, Enum) 2 ==
					(E:SIMULATION TIME, second) (I:XMLVAR_IDENT_Shutdown_Time) &lt; or
				</EMISSIVE_CODE> <!-- TODO -->
			</UseTemplate>
		</Component>
		
		<Component ID="State_Light" Node="TRANSPONDER_Light_Active">
			<UseTemplate Name="ASOBO_GT_Emissive_Gauge">
				<EMISSIVE_CODE>(A:TRANSPONDER STATE:1, Enum) 0 &gt;</EMISSIVE_CODE>
				<FAILURE>(A:CIRCUIT AVIONICS ON, Bool)</FAILURE>
			</UseTemplate>
		</Component>
		
		<Component ID="TRANSPONDER_Push_IDT" Node="#NODE_ID_IDT#">
			<UseTemplate Name="ASOBO_GT_Push_Button">
				<ANIM_NAME>#ANIM_NAME_IDT#</ANIM_NAME>
				<LEFT_SINGLE_CODE>
					(A:TRANSPONDER STATE:1, Enum) 0 != if{
						(E:SIMULATION TIME, second) 20 + (&gt;I:XMLVAR_IDENT_Shutdown_Time)
					}
				</LEFT_SINGLE_CODE>
				<WWISE_EVENT_1>transponder_push_button_on</WWISE_EVENT_1>
				<NORMALIZED_TIME_1>0.1</NORMALIZED_TIME_1>			
				<WWISE_EVENT_2>transponder_push_button_off</WWISE_EVENT_2> 
				<NORMALIZED_TIME_2>0.5</NORMALIZED_TIME_2>
				<TOOLTIPID>TT:COCKPIT.TOOLTIPS.YOKE_BUTTON_IDENT</TOOLTIPID>
			</UseTemplate>
		</Component>
		
		<UseTemplate Name="ASOBO_Transponder_knob_Value_Template_4">
			<NODE_ID>#NODE_ID_KNOB_THOUSANDS#</NODE_ID>
			<ANIM_NAME>#ANIM_NAME_KNOB_THOUSANDS#</ANIM_NAME>
		</UseTemplate>
		<UseTemplate Name="ASOBO_Transponder_knob_Value_Template_3">
			<NODE_ID>#NODE_ID_KNOB_HUNDREDS#</NODE_ID>
			<ANIM_NAME>#ANIM_NAME_KNOB_HUNDREDS#</ANIM_NAME>
		</UseTemplate>
		<UseTemplate Name="ASOBO_Transponder_knob_Value_Template_2">
			<NODE_ID>#NODE_ID_KNOB_TENS#</NODE_ID>
			<ANIM_NAME>#ANIM_NAME_KNOB_TENS#</ANIM_NAME>
		</UseTemplate>
		<UseTemplate Name="ASOBO_Transponder_knob_Value_Template_1">
			<NODE_ID>#NODE_ID_KNOB_ONES#</NODE_ID>
			<ANIM_NAME>#ANIM_NAME_KNOB_ONES#</ANIM_NAME>
		</UseTemplate>
	</Template>
</ModelBehaviors>